const i="https://www.googleapis.com/auth/calendar",r=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];async function g(){const n=new Date().toISOString(),e=new Date(Date.now()+2160*60*60*1e3).toISOString(),a=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(void 0)}/events?key=undefined&timeMin=${n}&timeMax=${e}&showDeleted=false&singleEvents=true&maxResults=100&orderBy=startTime`;try{const t=await fetch(a);if(!t.ok){const c=await t.text();throw console.error("Google API Response Error:",c),new Error(`Google API error! Status: ${t.status}`)}return(await t.json()).items||[]}catch(t){return console.error("Error fetching calendar events:",t),null}}window.gapiLoaded=()=>gapi.load("client",l);window.gisLoaded=()=>{google.accounts.oauth2.initTokenClient({client_id:void 0,scope:i,callback:()=>{}})};async function l(){await gapi.client.init({apiKey:void 0,discoveryDocs:r})}const d={lat:29.5502,lon:-98.3089},u=40;async function I(n){return console.error("Mapbox API key is missing. Check your .env file."),null}function h(n,e){const a=(e.lat-n.lat)*Math.PI/180,t=(e.lon-n.lon)*Math.PI/180,o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(n.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(t/2)*Math.sin(t/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}async function w(n){const e=await I();return e?h(d,e)<=u:!1}export{w as c,g};
